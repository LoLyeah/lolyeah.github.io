<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US-Indonesia Reciprocal Trade Agreement Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8f9fa; color: #334155; }
        .card { background: white; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03); transition: transform 0.2s ease-in-out; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .btn-primary { background-color: #0f172a; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: background-color 0.2s; }
        .btn-primary:hover { background-color: #334155; }
        .btn-secondary { background-color: #e2e8f0; color: #1e293b; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: background-color 0.2s; }
        .btn-secondary:hover { background-color: #cbd5e1; }
        .active-tab { border-bottom: 2px solid #0f172a; color: #0f172a; font-weight: 600; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: 0 auto; height: 350px; max-height: 400px; }
        .metric-value { font-size: 1.5rem; font-weight: 700; color: #0f172a; }
        .metric-label { font-size: 0.875rem; color: #64748b; }
        /* Custom Scrollbar for side panels if needed */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
    <!-- Chosen Palette: Warm Professional - Slate (#0f172a) as primary, with warm grays (#f8f9fa) and subtle accent blues. -->
    <!-- Application Structure Plan: 
         1. Hero Section: High-level purpose (Reciprocity/Supply Chains).
         2. "The Deal at a Glance": Key pillars (Tariffs, Non-Tariff, Digital, Investment).
         3. Interactive Impact Simulator: "How does this affect me?" (User Persona: Farmer, Consumer, Tech Startup).
         4. Agricultural Commitments Deep Dive: Charting the specific import volume targets from Annex IV.
         5. Digital & Investment Framework: Explaining the modernization rules.
         6. Analytical Conclusion: Answering "Is it good?" with a balanced Pros/Cons list based on the user's exploration.
         Rationale: Users care most about personal impact and the "winner/loser" dynamic. The simulator puts them in the shoes of stakeholders. The charts visualize the hard numbers which are otherwise buried in text.
    -->
    <!-- Visualization & Content Choices:
         - Agricultural Quotas -> Bar Chart (Chart.js) -> Compare volumes visually to show scale of commitments.
         - Impact Analysis -> Interactive Tabs/Persona Selector -> text-based dynamic content to explain qualitative effects.
         - Agreement Pillars -> Grid of Cards -> To organize complex legal sections into digestible topics.
         - NO SVG/Mermaid used. All visuals are HTML/CSS or Chart.js Canvas.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-slate-900 tracking-tight">US-Indonesia <span class="text-blue-700">ART</span> Explorer</span>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <button onclick="scrollToSection('overview')" class="text-gray-600 hover:text-slate-900 px-3 py-2 text-sm font-medium">Overview</button>
                    <button onclick="scrollToSection('impact-sim')" class="text-gray-600 hover:text-slate-900 px-3 py-2 text-sm font-medium">Impact Simulator</button>
                    <button onclick="scrollToSection('agri-data')" class="text-gray-600 hover:text-slate-900 px-3 py-2 text-sm font-medium">Agri-Quotas</button>
                    <button onclick="scrollToSection('analysis')" class="bg-slate-900 text-white hover:bg-slate-800 px-4 py-2 rounded-md text-sm font-medium transition-colors">Verdict</button>
                </div>
                <!-- Mobile Menu Button (Functional Logic in Script) -->
                <div class="flex items-center md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                        <span class="text-2xl">‚ò∞</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 p-4">
            <button onclick="scrollToSection('overview')" class="block w-full text-left py-2 text-gray-600">Overview</button>
            <button onclick="scrollToSection('impact-sim')" class="block w-full text-left py-2 text-gray-600">Impact Simulator</button>
            <button onclick="scrollToSection('agri-data')" class="block w-full text-left py-2 text-gray-600">Agri-Quotas</button>
            <button onclick="scrollToSection('analysis')" class="block w-full text-left py-2 font-bold text-blue-700">Verdict</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white shadow-sm" id="overview">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl font-extrabold text-slate-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
                Analysis: US-Indonesia Agreement on <br><span class="text-blue-700">Reciprocal Trade</span>
            </h1>
            <p class="mt-5 max-w-2xl mx-auto text-xl text-gray-500">
                A breakdown of the new economic framework designed to strengthen supply chains, remove barriers, and modernize trade relations between the two nations.
            </p>
            <div class="mt-8 flex justify-center gap-4">
                <div class="px-6 py-3 bg-blue-50 text-blue-800 rounded-full text-sm font-semibold">Status: Signed Agreement</div>
                <div class="px-6 py-3 bg-green-50 text-green-800 rounded-full text-sm font-semibold">Focus: Tariffs, Digital, Ag, Investment</div>
            </div>
        </div>
    </header>

    <main class="flex-grow">
        <!-- Pillars Grid -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900">Core Pillars of the Agreement</h2>
                <p class="mt-2 text-lg text-gray-600">How the ART changes the economic landscape.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Pillar 1 -->
                <div class="card p-6 border-t-4 border-blue-500">
                    <div class="text-blue-600 text-3xl mb-4">‚öì</div>
                    <h3 class="text-lg font-bold text-slate-900 mb-2">Market Access</h3>
                    <p class="text-gray-600 text-sm">Reduction of tariffs and specific import quotas for agricultural goods to ensure food security inputs.</p>
                </div>
                <!-- Pillar 2 -->
                <div class="card p-6 border-t-4 border-teal-500">
                    <div class="text-teal-600 text-3xl mb-4">üíª</div>
                    <h3 class="text-lg font-bold text-slate-900 mb-2">Digital Trade</h3>
                    <p class="text-gray-600 text-sm">Prohibits customs duties on digital products. Ensures free cross-border data flow and prevents data localization mandates.</p>
                </div>
                <!-- Pillar 3 -->
                <div class="card p-6 border-t-4 border-indigo-500">
                    <div class="text-indigo-600 text-3xl mb-4">üõ°Ô∏è</div>
                    <h3 class="text-lg font-bold text-slate-900 mb-2">Investment</h3>
                    <p class="text-gray-600 text-sm">Guarantees "National Treatment" for investors and protects against expropriation without compensation.</p>
                </div>
                <!-- Pillar 4 -->
                <div class="card p-6 border-t-4 border-rose-500">
                    <div class="text-rose-600 text-3xl mb-4">‚öñÔ∏è</div>
                    <h3 class="text-lg font-bold text-slate-900 mb-2">Good Governance</h3>
                    <p class="text-gray-600 text-sm">Measures against corruption, transparency in licensing, and science-based sanitary (SPS) regulations.</p>
                </div>
            </div>
        </div>

        <!-- Impact Simulator Section -->
        <div id="impact-sim" class="bg-slate-900 text-white py-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-10">
                    <h2 class="text-3xl font-bold">Impact Simulator: "How does this affect me?"</h2>
                    <p class="mt-2 text-slate-400">Select a profile to see how specific clauses in the agreement impact daily life and business in Indonesia.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    <!-- Selector -->
                    <div class="lg:col-span-4 space-y-3">
                        <button onclick="updatePersona('consumer')" id="btn-consumer" class="persona-btn w-full text-left p-4 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition-all flex items-center gap-3 active-persona">
                            <span class="text-2xl">üõí</span>
                            <div>
                                <h4 class="font-bold">Indonesian Consumer</h4>
                                <p class="text-xs text-slate-400">Buying goods & digital services</p>
                            </div>
                        </button>
                        <button onclick="updatePersona('farmer')" id="btn-farmer" class="persona-btn w-full text-left p-4 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition-all flex items-center gap-3">
                            <span class="text-2xl">üåæ</span>
                            <div>
                                <h4 class="font-bold">Tempe/Tofu Producer</h4>
                                <p class="text-xs text-slate-400">Relying on raw ingredients</p>
                            </div>
                        </button>
                        <button onclick="updatePersona('startup')" id="btn-startup" class="persona-btn w-full text-left p-4 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition-all flex items-center gap-3">
                            <span class="text-2xl">üöÄ</span>
                            <div>
                                <h4 class="font-bold">Tech Entrepreneur</h4>
                                <p class="text-xs text-slate-400">Running a digital platform</p>
                            </div>
                        </button>
                        <button onclick="updatePersona('investor')" id="btn-investor" class="persona-btn w-full text-left p-4 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition-all flex items-center gap-3">
                            <span class="text-2xl">üè≠</span>
                            <div>
                                <h4 class="font-bold">Foreign Investor</h4>
                                <p class="text-xs text-slate-400">Looking to build factories</p>
                            </div>
                        </button>
                    </div>

                    <!-- Result Panel -->
                    <div class="lg:col-span-8 bg-white text-slate-900 rounded-xl p-8 shadow-xl">
                        <div id="persona-content" class="h-full flex flex-col justify-center">
                            <!-- Dynamic Content Loaded Here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Agricultural Data Section -->
        <div id="agri-data" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="mb-8 flex flex-col md:flex-row md:items-end justify-between">
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">Strategic Food Security & Imports</h2>
                    <p class="mt-2 text-gray-600 max-w-2xl">
                        Indonesia has committed to specific annual import minimums for key commodities (Annex IV). 
                        These volumes are designed to stabilize supply for local industries (e.g., soybeans for Tempe, wheat for flour/noodles).
                    </p>
                </div>
                <!-- Toggle Scale -->
                <div class="mt-4 md:mt-0 bg-gray-100 p-1 rounded-lg inline-flex">
                    <button onclick="toggleChartScale('linear')" id="scale-linear" class="px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 border border-gray-200">Linear Scale</button>
                    <!-- Fixed: Changed 'log' to 'logarithmic' to resolve Chart.js error -->
                    <button onclick="toggleChartScale('logarithmic')" id="scale-log" class="px-3 py-1 text-xs font-medium rounded-md text-gray-500 hover:text-slate-900">Log Scale</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Chart -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-4">Minimum Annual Import Volumes (Metric Tons)</h3>
                    <div class="chart-container">
                        <canvas id="agriChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-400 mt-2 text-center">*Source: Agreement Annex IV (Schedules for Wheat, Soybeans, etc.)</p>
                </div>

                <!-- Context Panel -->
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                    <h3 class="font-bold text-blue-900 mb-4">Commodity Context</h3>
                    <div class="space-y-4">
                        <div class="p-3 bg-white rounded-lg shadow-sm">
                            <div class="flex justify-between items-start">
                                <h4 class="font-semibold text-sm">Soybeans (2.5M MT)</h4>
                                <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-0.5 rounded">Highest Volume</span>
                            </div>
                            <p class="text-xs text-gray-600 mt-1">Critical for national food security. Indonesia is the world's largest consumer of soybeans for human food (Tempe/Tofu) but produces little locally.</p>
                        </div>
                        <div class="p-3 bg-white rounded-lg shadow-sm">
                            <div class="flex justify-between items-start">
                                <h4 class="font-semibold text-sm">Wheat (1.3M MT)</h4>
                                <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Industrial Input</span>
                            </div>
                            <p class="text-xs text-gray-600 mt-1">Indonesia does not grow wheat. 100% of demand for instant noodles (Indomie) and bread comes from imports. This secures supply.</p>
                        </div>
                        <div class="p-3 bg-white rounded-lg shadow-sm">
                            <div class="flex justify-between items-start">
                                <h4 class="font-semibold text-sm">Ethanol & Grapes</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded">Niche/Energy</span>
                            </div>
                            <p class="text-xs text-gray-600 mt-1">Smaller volumes (1,000 - 5,000 MT). Focus on clean energy inputs and consumer variety.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analysis/Verdict Section -->
        <div id="analysis" class="bg-gray-100 py-16">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-900">The Verdict: Is this good for Indonesia?</h2>
                    <p class="mt-2 text-gray-600">Based on the text of the agreement, here is a balanced assessment of the strategic implications.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Pros -->
                    <div class="card p-8 border-l-4 border-green-500">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-2xl text-green-600">üëç</span>
                            <h3 class="text-xl font-bold text-gray-900">Strategic Wins</h3>
                        </div>
                        <ul class="space-y-3">
                            <li class="flex items-start gap-2">
                                <span class="text-green-500 mt-1">‚úì</span>
                                <p class="text-sm text-gray-700"><strong>Price Stability for Food:</strong> Securing 2.5M tons of soybeans and 1.3M tons of wheat helps stabilize prices for Tempe and Noodle producers, preventing shortages.</p>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500 mt-1">‚úì</span>
                                <p class="text-sm text-gray-700"><strong>Digital Modernization:</strong> Removing duties on digital products lowers costs for Indonesian startups using US cloud services and software.</p>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500 mt-1">‚úì</span>
                                <p class="text-sm text-gray-700"><strong>Investment Certainty:</strong> "National Treatment" clauses signal to global investors that Indonesia is a safe, legally consistent place to build factories.</p>
                            </li>
                        </ul>
                    </div>

                    <!-- Cons/Risks -->
                    <div class="card p-8 border-l-4 border-amber-500">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-2xl text-amber-600">‚ö†Ô∏è</span>
                            <h3 class="text-xl font-bold text-gray-900">Challenges & Risks</h3>
                        </div>
                        <ul class="space-y-3">
                            <li class="flex items-start gap-2">
                                <span class="text-amber-500 mt-1">!</span>
                                <p class="text-sm text-gray-700"><strong>Import Dependency:</strong> While securing supply is good, formalizing large quotas (e.g. Rice) cements reliance on imports rather than domestic self-sufficiency for those specific items.</p>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-amber-500 mt-1">!</span>
                                <p class="text-sm text-gray-700"><strong>Revenue Loss:</strong> Prohibiting customs duties on digital transmissions removes a potential tax revenue stream as the digital economy grows.</p>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-amber-500 mt-1">!</span>
                                <p class="text-sm text-gray-700"><strong>Regulatory Constraints:</strong> Strict rules on "Data Localization" (banning requirements to store data locally) limits the government's ability to force tech giants to build local data centers.</p>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mt-12 text-center">
                    <div class="inline-block bg-white p-6 rounded-xl shadow-md border border-gray-200">
                        <h4 class="font-bold text-slate-900 mb-2">Analyst Summary</h4>
                        <p class="text-gray-600 italic">"The agreement is predominantly <strong>positive for Indonesia's industrial and consumer stability</strong>. By locking in supply for commodities Indonesia cannot efficiently grow (Wheat, Soy) and lowering barriers for technology, it supports the manufacturing and digital economy. The trade-off is limited policy space for protectionism in these specific sectors."</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2026 Interactive Analysis based on "02.19.26 US-IDN ART Full Agreement".</p>
            <p class="text-sm mt-2">This is an educational visualization tool. Not legal advice.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // State Management
        const appState = {
            currentPersona: 'consumer',
            chartScale: 'linear',
            chartInstance: null
        };

        // Data Storage (Source: Annex IV of Agreement Snippet)
        // Values in Metric Tons
        const agriData = [
            { label: 'Ethanol', value: 1000, description: 'Clean energy & industrial use.' },
            { label: 'Rice', value: 1000, description: 'Specific quality varieties.' },
            { label: 'Fresh Grapes', value: 5000, description: 'Consumer fruit market.' },
            { label: 'Soybean Meal', value: 200000, description: 'Animal feed.' },
            { label: 'Wheat', value: 1300000, description: 'Noodles, bread, baking.' },
            { label: 'Soybeans', value: 2500000, description: 'Tempe & Tofu production.' }
        ];

        // Persona Content Data
        const personaContent = {
            'consumer': {
                icon: 'üõí',
                title: 'Impact on Consumers',
                mainText: 'You will likely see <strong>stable prices</strong> for daily staples like Tempe and instant noodles, as the agreement ensures a steady flow of raw ingredients (Soy & Wheat).',
                bulletPoints: [
                    'Cheaper access to digital services (Netflix, Software) due to duty-free digital trade.',
                    'More variety of imported fruits (Grapes) in supermarkets.',
                    'Better protection of your data privacy via cross-border data flow rules.'
                ],
                quote: "The focus on supply chains means less 'out of stock' moments for imported goods."
            },
            'farmer': {
                icon: 'üåæ',
                title: 'Impact on Producers (Tempe/Tofu)',
                mainText: 'For a Tempe producer, this is <strong>good news</strong>. Indonesia cannot grow enough soybeans to meet demand. This agreement guarantees access to 2.5 million tons of US soybeans annually.',
                bulletPoints: [
                    'Reliable supply of main ingredients prevents production stops.',
                    'Standardized sanitary rules (SPS) mean imported beans will be safer and higher quality.',
                    'Competition: Local soybean farmers face stiff competition, but demand is so high that imports are necessary.'
                ],
                quote: "Stability is profit. Knowing the soy will arrive allows for better business planning."
            },
            'startup': {
                icon: 'üöÄ',
                title: 'Impact on Tech Startups',
                mainText: 'This agreement is a <strong>major accelerator</strong> for the digital economy. It prohibits customs duties on digital transmissions.',
                bulletPoints: [
                    'Access to US cloud services (AWS, Google Cloud) without extra import tariffs.',
                    'No forced "data localization" means you can use the best global servers without being forced to build expensive local infrastructure.',
                    'Stronger IP protection helps you secure patents for your own innovations.'
                ],
                quote: "Lower barriers to entry for software and cloud tools helps Indonesian unicorns grow."
            },
            'investor': {
                icon: 'üè≠',
                title: 'Impact on Investors',
                mainText: 'The "Investment" chapter provides the <strong>legal certainty</strong> needed to commit millions of dollars to factories in Indonesia.',
                bulletPoints: [
                    'National Treatment: You will be treated the same as a local Indonesian company.',
                    'Protection against expropriation: Your assets are legally safe from arbitrary government seizure.',
                    'Free transfer of funds: You can easily move profits back to headquarters.'
                ],
                quote: "Risk reduction is the number one factor for Foreign Direct Investment (FDI)."
            }
        };

        // Function: Update Persona Section
        function updatePersona(personaKey) {
            appState.currentPersona = personaKey;
            
            // Update UI Buttons
            document.querySelectorAll('.persona-btn').forEach(btn => {
                btn.classList.remove('active-persona', 'bg-slate-700', 'border-blue-500');
                btn.classList.add('bg-slate-800', 'border-slate-700');
            });
            const activeBtn = document.getElementById(`btn-${personaKey}`);
            activeBtn.classList.remove('bg-slate-800', 'border-slate-700');
            activeBtn.classList.add('active-persona', 'bg-slate-700', 'border-blue-500');

            // Render Content with Fade Effect
            const contentPanel = document.getElementById('persona-content');
            contentPanel.style.opacity = '0';
            
            setTimeout(() => {
                const data = personaContent[personaKey];
                contentPanel.innerHTML = `
                    <div class="flex items-center gap-4 mb-6 border-b border-gray-100 pb-4">
                        <span class="text-4xl p-3 bg-blue-50 rounded-full">${data.icon}</span>
                        <h3 class="text-2xl font-bold text-slate-800">${data.title}</h3>
                    </div>
                    <p class="text-lg text-gray-700 mb-6 leading-relaxed">${data.mainText}</p>
                    <div class="bg-slate-50 p-5 rounded-lg mb-6">
                        <ul class="space-y-3">
                            ${data.bulletPoints.map(point => `<li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Üí</span> <span class="text-sm text-slate-600">${point}</span></li>`).join('')}
                        </ul>
                    </div>
                    <blockquote class="border-l-4 border-blue-500 pl-4 italic text-slate-500">"${data.quote}"</blockquote>
                `;
                contentPanel.style.opacity = '1';
            }, 200);
        }

        // Function: Initialize Chart
        function initChart() {
            const ctx = document.getElementById('agriChart').getContext('2d');
            
            // Prepare Data
            const labels = agriData.map(d => d.label);
            const dataValues = agriData.map(d => d.value);

            appState.chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Annual Import Commitment (Metric Tons)',
                        data: dataValues,
                        backgroundColor: [
                            '#94a3b8', // Ethanol
                            '#cbd5e1', // Rice
                            '#64748b', // Grapes
                            '#475569', // Meal
                            '#334155', // Wheat
                            '#0f172a'  // Soybeans
                        ],
                        borderRadius: 6,
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            type: 'linear', // Default
                            grid: { color: '#f1f5f9' },
                            ticks: {
                                callback: function(value) {
                                    if(value >= 1000000) return (value/1000000) + 'M';
                                    if(value >= 1000) return (value/1000) + 'k';
                                    return value;
                                }
                            }
                        }
                        // Removed x scale grid display: false, to keep it simple and default behavior.
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) {
                                        label += new Intl.NumberFormat('en-US').format(context.parsed.y) + ' MT';
                                    }
                                    return label;
                                },
                                afterLabel: function(context) {
                                    return agriData[context.dataIndex].description;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Function: Toggle Chart Scale
        function toggleChartScale(type) {
            if (!appState.chartInstance) return;
            
            appState.chartScale = type;
            appState.chartInstance.options.scales.y.type = type;
            
            // Style buttons
            const linearBtn = document.getElementById('scale-linear');
            const logBtn = document.getElementById('scale-log');
            
            if (type === 'linear') {
                linearBtn.className = "px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 border border-gray-200";
                logBtn.className = "px-3 py-1 text-xs font-medium rounded-md text-gray-500 hover:text-slate-900";
            } else {
                logBtn.className = "px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 border border-gray-200";
                linearBtn.className = "px-3 py-1 text-xs font-medium rounded-md text-gray-500 hover:text-slate-900";
            }

            appState.chartInstance.update();
        }

        // Navigation Helper
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
                // Close mobile menu if open
                document.getElementById('mobile-menu').classList.add('hidden');
            }
        }

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Initialize on Load
        window.addEventListener('DOMContentLoaded', () => {
            updatePersona('consumer'); // Default persona
            initChart(); // Render chart
        });

    </script>
</body>
</html>